<view class="xlb-page" style="{{'height:'+(pageHeight+'px')+';'}}"><view class="content card"><view class="card-body"><u--form class="vue-ref" vue-id="170a67f4-1" labelPosition="left" model="{{movieForm}}" labelWidth="80" data-ref="movieForm" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('170a67f4-2')+','+('170a67f4-1')}}" label="影视名称" prop="movieName" bind:__l="__l" vue-slots="{{['default']}}"><u--input bind:input="__e" vue-id="{{('170a67f4-3')+','+('170a67f4-2')}}" placeholder="输入影视名称" border="none" inputAlign="right" suffixIcon="arrow-right" suffixIconStyle="{{({color:'#A2A4A6'})}}" value="{{movieForm.movieName}}" data-event-opts="{{[['^input',[['__set_model',['$0','movieName','$event',[]],['movieForm']]]]]}}" bind:__l="__l"></u--input></u-form-item><u-form-item vue-id="{{('170a67f4-4')+','+('170a67f4-1')}}" label="导演" prop="director" bind:__l="__l" vue-slots="{{['default']}}"><u--input bind:input="__e" vue-id="{{('170a67f4-5')+','+('170a67f4-4')}}" placeholder="输入导演" border="none" inputAlign="right" suffixIcon="arrow-right" suffixIconStyle="{{({color:'#A2A4A6'})}}" value="{{movieForm.director}}" data-event-opts="{{[['^input',[['__set_model',['$0','director','$event',[]],['movieForm']]]]]}}" bind:__l="__l"></u--input></u-form-item><u-form-item vue-id="{{('170a67f4-6')+','+('170a67f4-1')}}" label="分类" prop="checkedGenerAllList" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['showGenreChange',[true]]]]]}}" class="{{['down-data',($root.g0)?'gener-list':'']}}" bindtap="__e"><block wx:if="{{$root.g1}}"><view class="no-active-text"><text>请选择分类</text><u-icon vue-id="{{('170a67f4-7')+','+('170a67f4-6')}}" name="arrow-right" size="20" color="#A2A4A6" bind:__l="__l"></u-icon></view></block><block wx:if="{{$root.g2}}"><view class="active-box"><block wx:for="{{checkedGenerAllList}}" wx:for-item="item" wx:for-index="__i0__" wx:key="genreName"><view class="active-item"><u-tag vue-id="{{('170a67f4-8-'+__i0__)+','+('170a67f4-6')}}" text="{{item.genreName}}" type="primary" size="mini" closable="{{true}}" show="{{item.close}}" data-event-opts="{{[['^close',[['generClose',['$0'],[[['checkedGenerAllList','genreName',item.genreName]]]]]]]}}" bind:close="__e" bind:__l="__l"></u-tag></view></block></view></block></view><u-popup vue-id="{{('170a67f4-9')+','+('170a67f4-6')}}" show="{{showGenre}}" mode="bottom" data-event-opts="{{[['^close',[['showGenreChange',[false]]]],['^open',[['showGenreChange',[true]]]]]}}" bind:close="__e" bind:open="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="gener-box"><view class="gener-header"><text data-event-opts="{{[['tap',[['showGenreChange',[false]]]]]}}" class="cancel" bindtap="__e">取消</text><text data-event-opts="{{[['tap',[['genreConfirm',['$event']]]]]}}" class="confrim" bindtap="__e">确定</text></view><view class="gener-body"><u-checkbox-group bind:input="__e" vue-id="{{('170a67f4-10')+','+('170a67f4-9')}}" placement="column" labelSize="22" size="18" shape="circle" value="{{checkedGenerList}}" data-event-opts="{{[['^input',[['__set_model',['','checkedGenerList','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{genreList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><u-checkbox vue-id="{{('170a67f4-11-'+index)+','+('170a67f4-10')}}" customStyle="{{({marginBottom:'8px'})}}" label="{{item.genreName}}" name="{{item.genreName}}" bind:__l="__l"></u-checkbox></block></u-checkbox-group><u-checkbox-group bind:input="__e" vue-id="{{('170a67f4-12')+','+('170a67f4-9')}}" placement="column" labelSize="22" size="18" shape="circle" value="{{checkedRemainGenerList}}" data-event-opts="{{[['^input',[['__set_model',['','checkedRemainGenerList','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{genreRemainList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><u-checkbox vue-id="{{('170a67f4-13-'+index)+','+('170a67f4-12')}}" customStyle="{{({marginBottom:'8px'})}}" label="{{item.genreName}}" name="{{item.genreName}}" bind:__l="__l"></u-checkbox></block></u-checkbox-group></view></view></u-popup></u-form-item><u-form-item vue-id="{{('170a67f4-14')+','+('170a67f4-1')}}" label="上映日期" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['showDatetime',[true]]]]]}}" class="down-data" bindtap="__e"><text>{{movieForm.releaseDateText}}</text><u-icon vue-id="{{('170a67f4-15')+','+('170a67f4-14')}}" name="arrow-right" size="20" color="#A2A4A6" bind:__l="__l"></u-icon></view><u-datetime-picker vue-id="{{('170a67f4-16')+','+('170a67f4-14')}}" show="{{dateTimeShow}}" mode="date" minDate="1000 * 1000 * 60 *24*30*12*40" value="{{movieForm.releaseDate}}" data-event-opts="{{[['^cancel',[['showDatetime',[false]]]],['^confirm',[['confirmReleaseDate']]],['^input',[['__set_model',['$0','releaseDate','$event',[]],['movieForm']]]]]}}" bind:cancel="__e" bind:confirm="__e" bind:input="__e" bind:__l="__l"></u-datetime-picker></u-form-item><u-form-item vue-id="{{('170a67f4-17')+','+('170a67f4-1')}}" label="描述" prop="description" bind:__l="__l" vue-slots="{{['default']}}"><u--textarea bind:input="__e" vue-id="{{('170a67f4-18')+','+('170a67f4-17')}}" placeholder="描述" count="{{true}}" autoHeight="{{true}}" maxlength="1000" border="bottom" height="120" value="{{movieForm.description}}" data-event-opts="{{[['^input',[['__set_model',['$0','description','$event',[]],['movieForm']]]]]}}" bind:__l="__l"></u--textarea></u-form-item></u--form></view></view><view class="card"><view class="card-body"><u--form class="vue-ref" vue-id="170a67f4-19" labelPosition="left" model="{{movieForm}}" labelWidth="80" data-ref="uForm" bind:__l="__l" vue-slots="{{['default']}}"><u-form-item vue-id="{{('170a67f4-20')+','+('170a67f4-19')}}" label="影视封面" borderBottom="{{true}}" labelPosition="top" bind:__l="__l" vue-slots="{{['default']}}"><u-upload vue-id="{{('170a67f4-21')+','+('170a67f4-20')}}" maxCount="1" fileList="{{fileList}}" data-event-opts="{{[['^afterRead',[['afterRead']]],['^delete',[['deletePic']]]]}}" bind:afterRead="__e" bind:delete="__e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{!movieForm.tempPic}}"><view class="uload-btn"><uni-icons vue-id="{{('170a67f4-22')+','+('170a67f4-21')}}" type="cloud-upload-filled" color="#909399" size="60" bind:__l="__l"></uni-icons></view></block></u-upload><block wx:if="{{movieForm.tempPic}}"><view class="upload-pic"><image src="{{movieForm.tempPic}}"></image><uni-icons class="deleteImg" vue-id="{{('170a67f4-23')+','+('170a67f4-20')}}" type="closeempty" color="#fff" size="15" data-event-opts="{{[['^click',[['deleteMoviePic']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></view></block></u-form-item></u--form></view></view><view class="submit-box"><u-button vue-id="170a67f4-24" type="primary" shape="circle" text="提交" data-event-opts="{{[['^click',[['submitForm']]]]}}" bind:click="__e" bind:__l="__l"></u-button><u-button vue-id="170a67f4-25" type="primary" shape="circle" plain="{{true}}" text="返回" data-event-opts="{{[['^click',[['cancel']]]]}}" bind:click="__e" bind:__l="__l"></u-button></view><u-toast class="vue-ref" vue-id="170a67f4-26" data-ref="uToast" bind:__l="__l"></u-toast><u-modal vue-id="170a67f4-27" show="{{isAddFlag}}" content="影视信息已添加成功,请问还继续添加影视信息吗？" showCancelButton="{{true}}" confirmText="继续" data-event-opts="{{[['^cancel',[['cancelAdd']]],['^confirm',[['comfirmAdd']]]]}}" bind:cancel="__e" bind:confirm="__e" bind:__l="__l"></u-modal></view>